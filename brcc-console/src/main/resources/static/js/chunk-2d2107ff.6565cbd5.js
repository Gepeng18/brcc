(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2107ff"],{b7c7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",[a("section",{staticClass:"add-btn"},[a("a-breadcrumb",{staticClass:"title"},[a("a-breadcrumb-item",{staticClass:"font-menu"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.routerTo("/index")}}},[t._v("首页")])]),a("a-breadcrumb-item",[t._v("\n                版本-"+t._s(t.versionName)+" \n            ")]),a("a-breadcrumb-item",[t._v("\n                实例管理\n            ")])],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"space-evenly","margin-bottom":"20px"}},[a("a-tag",{attrs:{color:"orange"}},[t._v("实例总数："+t._s(t.total))]),a("a-tag",{attrs:{color:"green"}},[t._v("生效实例数："+t._s(t.active))]),a("a-tag",{attrs:{color:"red"}},[t._v("未生效实例数："+t._s(t.notActive))])],1),a("a-table",{attrs:{columns:t.columns,"data-source":t.InstanceData,"row-key":function(t){return t.id},pagination:!1,loading:t.loading},scopedSlots:t._u([{key:"expandedRowRender",fn:function(e){return[a("p",[t._v("容器Id："+t._s(e.containerId))]),a("p",[t._v("机房信息："+t._s(e.idc))]),a("p",[t._v("sdk版本："+t._s(e.clientVersion))])]}},{key:"request",fn:function(e){return[a("p",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(e))])]}},{key:"operate",fn:function(e,n){return[a("a-popconfirm",{attrs:{title:"确定要删除吗？"},on:{confirm:function(e){return t.handleDelete(n)}}},[a("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])]}}])})],1)},o=[],r=a("daa0"),i={components:{"user-modal":r["a"]},data:function(){return{form:this.$form.createForm(this),InstanceData:[],total:0,notActive:0,active:0,columns:[{title:"IP",dataIndex:"ip"},{title:"APP_NAME",dataIndex:"appName"},{title:"生效状态",dataIndex:"status",customRender:function(t){return t?"生效":"未生效"}},{title:"是否开启心跳上报",dataIndex:"enableUpdateCallback",customRender:function(t){return t?"已开启":"未开启"}},{title:"网络开销(ms)",dataIndex:"netCost"},{title:"最近一次心跳时间",dataIndex:"heartbeatTime"},{title:"操作",dataIndex:"operate",scopedSlots:{customRender:"operate"}}],pagination:{total:0,current:1,pageSize:10,hideOnSinglePage:!0,showTotal:function(t,e){return"显示 ".concat(e[0]," ~ ").concat(e[1]," 条记录，共 ").concat(t," 条记录")}},loading:!1}},created:function(){this.getInstanceData()},computed:{versionName:function(){return JSON.parse(localStorage.getItem("rcc-info")).versionName}},methods:{getInstanceData:function(){var t=this;this.loading=!0,this.$api.version.getInstance({versionId:this.$route.query.versionId,productId:1,pageNo:this.pagination.current,pageSize:this.pagination.pageSize}).then((function(e){t.InstanceData=e.data,t.total=e.ext.total,t.notActive=e.ext.notActive,t.active=e.ext.active,t.loading=!1}))},routerTo:function(t){this.$router.push(t)},handleDelete:function(t){var e=this;this.$api.version.deleteInstance(t.id).then((function(t){0===t.status?(e.$message.success("删除成功"),e.getInstanceData()):e.$message.error("删除失败")}))}}},s=i,c=a("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);e["default"]=u.exports}}]);